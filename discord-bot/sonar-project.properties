# SonarQube/SonarCloud Configuration
# https://docs.sonarcloud.io/advanced-setup/analysis-parameters/

sonar.projectKey=ColterD_discord-bot
sonar.organization=colterd
sonar.projectName=discord-bot

# Source configuration
sonar.sources=src,dashboard
sonar.tests=tests
sonar.sourceEncoding=UTF-8

# TypeScript/JavaScript settings
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# ============================================================
# EXCLUSIONS
# ============================================================

# Files to exclude from analysis entirely
sonar.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/coverage/**,\
  **/logs/**,\
  **/reports/**,\
  **/*.min.js,\
  **/*.d.ts

# Files to exclude from duplication detection
sonar.cpd.exclusions=\
  **/tests/**,\
  **/*.test.ts,\
  **/*.spec.ts

# Files to exclude from coverage analysis
sonar.coverage.exclusions=\
  **/tests/**,\
  **/*.test.ts,\
  **/*.spec.ts,\
  **/index.ts,\
  src/deploy-commands.ts,\
  src/healthcheck.ts

# ============================================================
# ISSUE EXCLUSIONS (False Positives)
# ============================================================

# Exclude instruction/documentation files from certain rules
# These files contain example code snippets and tool references
sonar.issue.ignore.multicriteria=e1,e2,e3

# Rule e1: Ignore "unknown tool" warnings in Copilot instructions
sonar.issue.ignore.multicriteria.e1.ruleKey=*
sonar.issue.ignore.multicriteria.e1.resourceKey=**/.github/copilot-instructions.md

# Rule e2: Ignore link validation in instruction markdown files
sonar.issue.ignore.multicriteria.e2.ruleKey=*
sonar.issue.ignore.multicriteria.e2.resourceKey=**/.github/instructions/**/*.md

# Rule e3: Ignore link validation in agent markdown files
sonar.issue.ignore.multicriteria.e3.ruleKey=*
sonar.issue.ignore.multicriteria.e3.resourceKey=**/.github/agent/**/*.md
